<?xml version="1.0"?>
<Container version="2">
  <Beta>False</Beta>
  <Name>calibre-web-automated-book-downloader</Name>
  <Repository>ghcr.io/calibrain/calibre-web-automated-book-downloader:latest</Repository>
  <Registry/>
  <Network>bridge</Network>
  <MyIP/>
  <Shell>bash</Shell>
  <Privileged>false</Privileged>
  <Support>https://forums.unraid.net/topic/184273-support-nodiaque-calibre-web-automated-book-downloader/</Support>
  <Project>https://github.com/calibrain/calibre-web-automated-book-downloader/</Project>
  <Overview>An intuitive web interface for searching and requesting book downloads, designed to work seamlessly with Calibre-Web-Automated. This project streamlines the process of downloading books and preparing them for integration into your Calibre library.&#xD;
&#xD;
You must have already setup Calibre-Web-Automated for this to work. It is an add-on to it.&#xD;
The docker CloudFlareBypassForScrapping isn't needed anymore and can be remove&#xD;
&#x2728; Features&#xD;
&#x1F310; User-friendly web interface for book search and download&#xD;
&#x1F504; Automated download to your specified ingest folder&#xD;
&#x1F50C; Seamless integration with Calibre-Web-Automated&#xD;
&#x1F4D6; Support for multiple book formats (epub, mobi, azw3, fb2, djvu, cbz, cbr)&#xD;
&#x1F6E1;&#xFE0F; Cloudflare bypass capability for reliable downloads&#xD;
&#x1F433; Docker-based deployment for quick setup&#xD;
&#xD;
Note that PDF are NOT supported at the moment (they do not get ingested by CWA, but if you want to just download them locally, you can add pdf to the SUPPORTED_FORMATS env&#xD;
&#xD;
If you are a donator on AA, you can use your Key in AA_DONATOR_API_KEY to speed up downloads and bypass the wait times. If disabling the cloudflare bypass, you will be using alternative download hosts, such as libgen or z-lib, but they usually have a delay before getting the more recent books and their collection is not as big as aa's. But this setting should work for the majority of books.&#xD;
&#xD;
CLOUDFLARE_PROXY_URL is ignored if USE_CF_BYPASS is set to false</Overview>
  <Category>MediaApp:Books MediaServer:Books</Category>
  <WebUI>http://[IP]:[PORT:8084]</WebUI>
  <TemplateURL/>
  <Icon>https://raw.githubusercontent.com/calibrain/calibre-web-automated-book-downloader/refs/heads/main/static/media/favicon.ico</Icon>
  <ExtraParams/>
  <PostArgs/>
  <CPUset/>
  <DateInstalled>1736220010</DateInstalled>
  <DonateText/>
  <DonateLink/>
  <Requires/>
  <Date>2025-07-31</Date>
  <Changes>
### 2025-07-31
- Remove CLOUDFLARE_PROXY_URL as it's not used anymore, added several new variableS&#xD;

### 2025-01-25
- Initial release using official docker
  </Changes>
  <Config Name="Appdata" Target="/var/log/cwa-book-downloader" Default="/mnt/user/appdata/calibre-web-automated-book-downloader/" Mode="rw" Description="Appdata folder" Type="Path" Display="always" Required="true" Mask="false">/mnt/user/appdata/calibre-web-automated-book-downloader/</Config>
  <Config Name="Container External Port" Target="PORT" Default="8084" Mode="" Description="Container external port. Follow FLASK PORT. Default: 8084" Type="Variable" Display="always" Required="true" Mask="false">8084</Config>  
  <Config Name="FLASK PORT" Target="8084" Default="8084" Mode="tcp" Description="Default: 8084" Type="Port" Display="always" Required="true" Mask="false">8084</Config>
  <Config Name="FLASK_PORT" Target="FLASK_PORT" Default="8084" Mode="" Description="FLASK port. If you change this, you need to recreate the " Type="Variable" Display="always" Required="true" Mask="false">8084</Config>
  <Config Name="FLASK_HOST" Target="FLASK_HOST" Default="0.0.0.0" Mode="" Description="Web interface binding. Default: 0.0.0.0" Type="Variable" Display="always" Required="true" Mask="false">0.0.0.0</Config>
  <Config Name="Calibre Web Automated Import Folder" Target="/cwa-book-ingest" Default="/mnt/user/calibre_library/import/" Mode="rw" Description="Mount should align with your Calibre-Web-Automated ingest folder." Type="Path" Display="always" Required="true" Mask="false">/mnt/user/calibre_library/import/</Config>
  <Config Name="Download dir (host)" Target="INGEST_DIR" Default="/cwa-book-ingest" Mode="" Description="Download directory inside the docker. Default: /cwa-book-ingest. If you change this, you must change the path for 'Calibre Web Automated Import Folder'" Type="Variable" Display="always" Required="true" Mask="false">/cwa-book-ingest</Config>
  <Config Name="USE_CF_BYPASS" Target="USE_CF_BYPASS" Default="false" Mode="" Description="Disable CF bypass and use alternative links instead. Default: true" Type="Variable" Display="always" Required="true" Mask="false">false</Config>
  <Config Name="MAX_RETRY" Target="MAX_RETRY" Default="3" Mode="" Description="Maximum download retry attempts. Default: 3" Type="Variable" Display="always" Required="true" Mask="false">3</Config>
  <Config Name="DEFAULT_SLEEP" Target="DEFAULT_SLEEP" Default="5" Mode="" Description="Retry delay (seconds). Default: 5" Type="Variable" Display="always" Required="true" Mask="false">5</Config>
  <Config Name="MAIN_LOOP_SLEEP_TIME" Target="MAIN_LOOP_SLEEP_TIME" Default="5" Mode="" Description="Processing loop delay (seconds)" Type="Variable" Display="always" Required="true" Mask="false">5</Config>
  <Config Name="SUPPORTED_FORMATS" Target="SUPPORTED_FORMATS" Default="epub,mobi,azw3,fb2,djvu,cbz,cbr" Mode="" Description="Supported book formats. PDF is currently not supported. Default: epub,mobi,azw3,fb2,djvu,cbz,cbr" Type="Variable" Display="always" Required="true" Mask="false">epub,mobi,azw3,fb2,djvu,cbz,cbr</Config>
  <Config Name="BOOK_LANGUAGE" Target="BOOK_LANGUAGE" Default="en" Mode="" Description="Preferred language for books. Default: en" Type="Variable" Display="always" Required="true" Mask="false">en</Config>
  <Config Name="Calibre-Web's database" Target="CWA_DB_PATH" Default="" Mode="" Description="Used to enable authentication to the web gui using the same user/pass as calibre. Remove to disable authentication. MUST NOT BE EMPTY" Type="Variable" Display="always" Required="false" Mask="false"/>
  <Config Name="AA_BASE_URL" Target="AA_BASE_URL" Default="https://annas-archive.org" Mode="" Description="Base URL of Annas-Archive (could be changed for a proxy). Default: https://annas-archive.org" Type="Variable" Display="always" Required="true" Mask="false">https://annas-archive.org</Config>
  <Config Name="AA_DONATOR_KEY" Target="AA_DONATOR_KEY" Default="" Mode="" Description="Optional Donator key for Anna's Archive fast download API" Type="Variable" Display="advanced" Required="false" Mask="false"></Config>
  <Config Name="Use Book Title" Target="USE_BOOK_TITLE" Default="false" Mode="" Description="Use book title as filename instead of ID" Type="Variable" Display="always" Required="false" Mask="false">false</Config>
  <Config Name="DEBUG" Target="DEBUG" Default="false" Mode="" Description="Debug mode toggle. Default: false" Type="Variable" Display="always" Required="true" Mask="false">false</Config>
  <Config Name="AA Additional URL" Target="AA_ADDITIONAL_URLS" Default="" Mode="" Description="Proxy URLs for AA, comma separated. Default empty" Type="Variable" Display="advanced" Required="false" Mask="false"/>
  <Config Name="HTTP Proxy" Target="HTTP_PROXY" Default="" Mode="" Description="HTTP PRoxy URL" Type="Variable" Display="advanced" Required="false" Mask="false"/>
  <Config Name="HTTPS Proxy" Target="HTTPS_PROXY" Default="" Mode="" Description="HTTPS proxy URL" Type="Variable" Display="advanced" Required="false" Mask="false"/>
  <Config Name="Custom DNS" Target="CUSTOM_DNS" Default="" Mode="" Description="Custom DNS IP" Type="Variable" Display="advanced" Required="false" Mask="false"/>
  <Config Name="USE DOH" Target="USE_DOH" Default="false" Mode="" Description="Use DNS over HTTPS" Type="Variable" Display="advanced" Required="false" Mask="false">false</Config>
  <Config Name="Custom Script" Target="CUSTOM_SCRIPT" Default="" Mode="" Description="Path to an executable script that runs after each download before the file is moved to ingest directory" Type="Variable" Display="advanced" Required="false" Mask="false"/>
  <Config Name="UID" Target="UID" Default="99" Mode="" Description="" Type="Variable" Display="advanced" Required="true" Mask="false">99</Config>
  <Config Name="GID" Target="GID" Default="100" Mode="" Description="" Type="Variable" Display="advanced" Required="true" Mask="false">100</Config>
  <Config Name="Log Level" Target="LOG_LEVEL" Default="info" Mode="" Description="DEBUG | INFO | WARNING | ERROR | CRITICAL" Type="Variable" Display="advanced" Required="false" Mask="false">LOG_LEVEL</Config>
  <Config Name="Logging" Target="ENABLE_LOGGING" Default="true" Mode="" Description="Enable log file in /var/log/cwa-book-downloader" Type="Variable" Display="advanced" Required="false" Mask="false">true</Config>
</Container>
